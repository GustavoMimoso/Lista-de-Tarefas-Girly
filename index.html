<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🌸 Minhas Tarefas Fofas 🌸</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #ffb3d9 0%, #ffc2e8 25%, #ffe0f0 50%, #ffc2e8 75%, #ffb3d9 100%);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      min-height: 100vh;
      color: #444;
      max-width: 650px;
      margin: 20px auto;
      padding: 0 20px;
      line-height: 1.6;
      position: relative;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    /* Decorações flutuantes */
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .heart {
      position: absolute;
      font-size: 20px;
      animation: float 6s ease-in-out infinite;
      opacity: 0.3;
    }

    @keyframes float {
      0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
    }

    header::before {
      content: "✨";
      position: absolute;
      left: 50%;
      top: -20px;
      transform: translateX(-50%);
      font-size: 2rem;
      animation: sparkle 2s infinite;
    }

    header h1 {
      font-weight: 700;
      background: linear-gradient(45deg, #e91e63, #ff4081, #f06292);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 2.8rem;
      letter-spacing: 1px;
      text-shadow: 2px 2px 10px rgba(255, 182, 193, 0.5);
      margin-top: 25px;
      position: relative;
    }

    .input-container {
      position: relative;
      margin-bottom: 25px;
    }

    input#novaTarefa {
      width: 75%;
      padding: 18px 25px;
      font-size: 1.2rem;
      border: 3px solid transparent;
      border-radius: 50px;
      background: linear-gradient(white, white) padding-box,
                  linear-gradient(45deg, #ff6bb3, #ffb3d9, #ffc2e8) border-box;
      color: #555;
      transition: all 0.3s ease;
      font-family: 'Quicksand', sans-serif;
      font-weight: 500;
      box-shadow: 0 8px 25px rgba(255, 107, 179, 0.2);
    }

    input#novaTarefa::placeholder {
      color: #ff6bb3;
      font-style: italic;
    }

    input#novaTarefa:focus {
      outline: none;
      box-shadow: 0 0 20px rgba(255, 107, 179, 0.6), 0 8px 25px rgba(255, 107, 179, 0.3);
      transform: translateY(-3px);
      background: linear-gradient(white, white) padding-box,
                  linear-gradient(45deg, #e91e63, #ff4081, #f06292) border-box;
    }

    button {
      padding: 18px 30px;
      font-size: 1.2rem;
      border-radius: 50px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
      background: linear-gradient(45deg, #e91e63, #ff4081);
      margin-left: 15px;
      font-weight: 600;
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
      font-family: 'Quicksand', sans-serif;
      position: relative;
      overflow: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    button:hover::before {
      left: 100%;
    }

    button:hover,
    button:focus {
      background: linear-gradient(45deg, #ad1457, #e91e63);
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(233, 30, 99, 0.5);
    }

    #filtros {
      margin-top: 35px;
      text-align: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 25px;
      border: 2px solid rgba(255, 182, 193, 0.3);
    }

    #filtros button {
      width: 140px;
      background: linear-gradient(45deg, #f8bbd9, #f48fb1);
      margin: 0 10px 10px 10px;
      font-size: 1rem;
      padding: 15px 0;
      border-radius: 25px;
      box-shadow: 0 5px 15px rgba(244, 143, 177, 0.4);
      color: #fff;
      font-weight: 600;
    }

    #filtros button[aria-pressed='true'] {
      background: linear-gradient(45deg, #e91e63, #ff4081);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.6);
      font-weight: 700;
      transform: scale(1.05);
      border: 2px solid rgba(255, 255, 255, 0.5);
    }

    #filtros button:hover,
    #filtros button:focus {
      background: linear-gradient(45deg, #e91e63, #ff4081);
      transform: translateY(-2px) scale(1.02);
      outline: none;
    }

    ul#listaTarefas {
      list-style: none;
      margin-top: 40px;
      padding-left: 0;
    }

    li {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 25px;
      margin-bottom: 20px;
      padding: 25px 30px;
      border: 2px solid rgba(255, 182, 193, 0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 8px 25px rgba(255, 107, 179, 0.15);
      transition: all 0.3s ease;
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
    }

    li::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 107, 179, 0.1), transparent);
      transition: left 0.5s;
    }

    li:hover::before {
      left: 100%;
    }

    li:hover,
    li:focus-within {
      box-shadow: 0 12px 35px rgba(255, 107, 179, 0.3);
      transform: translateY(-5px);
      border-color: #ff6bb3;
      outline: none;
    }

    li.completed {
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.3), rgba(255, 192, 203, 0.2));
      border-color: rgba(255, 182, 193, 0.6);
      opacity: 0.8;
    }

    li.completed label {
      text-decoration: line-through;
      color: #999;
      opacity: 0.7;
    }

    label {
      display: flex;
      align-items: center;
      flex-grow: 1;
      cursor: pointer;
      font-size: 1.2rem;
      user-select: none;
      color: #555;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    label:hover {
      color: #e91e63;
    }

    label input[type='checkbox'] {
      margin-right: 20px;
      width: 25px;
      height: 25px;
      cursor: pointer;
      accent-color: #e91e63;
      border-radius: 50%;
      transform: scale(1.2);
    }

    .btn-editar,
    .btn-remover {
      border-radius: 20px;
      font-size: 0.95rem;
      padding: 12px 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      user-select: none;
      width: 95px;
      margin-left: 15px;
      transition: all 0.3s ease;
      color: white;
      font-weight: 600;
      font-family: 'Quicksand', sans-serif;
    }

    .btn-editar {
      background: linear-gradient(45deg, #ff6bb3, #ff8a9b);
    }

    .btn-editar:hover,
    .btn-editar:focus {
      background: linear-gradient(45deg, #e91e63, #ff6bb3);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
      outline: none;
    }

    .btn-remover {
      background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    }

    .btn-remover:hover,
    .btn-remover:focus {
      background: linear-gradient(45deg, #e91e63, #ff6b9d);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(233, 30, 99, 0.4);
      outline: none;
    }

    #msgErro {
      color: #e91e63;
      margin-top: 20px;
      font-weight: 600;
      text-align: center;
      font-size: 1.1rem;
      padding: 15px 25px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 25px;
      border: 2px solid #ffb6c1;
      box-shadow: 0 5px 15px rgba(255, 107, 179, 0.2);
    }

    @keyframes sparkle {
      0%, 100% { transform: translateX(-50%) scale(1) rotate(0deg); }
      50% { transform: translateX(-50%) scale(1.2) rotate(180deg); }
    }

    .section-title {
      text-align: center;
      font-size: 1.4rem;
      color: #e91e63;
      font-weight: 600;
      margin: 30px 0 15px 0;
      text-shadow: 1px 1px 3px rgba(255, 182, 193, 0.3);
    }

    @media (max-width: 600px) {
      body { max-width: 100%; margin: 10px auto; }
      
      header h1 { font-size: 2.2rem; }
      
      #novaTarefa {
        width: 100%;
        margin-bottom: 15px;
      }

      button {
        width: 100%;
        margin-left: 0;
        margin-bottom: 15px;
      }

      #filtros button {
        width: 30%;
        margin: 5px 1.5%;
        font-size: 0.9rem;
      }

      li {
        flex-direction: column;
        align-items: flex-start;
        padding: 20px;
      }

      label {
        font-size: 1.1rem;
        margin-bottom: 15px;
        width: 100%;
      }

      .btn-editar,
      .btn-remover {
        width: 100%;
        margin: 8px 0 0 0;
      }
    }
  </style>
</head>
<body>
  <div class="floating-hearts" id="floatingHearts"></div>
  
  <header>
    <h1>🌸 Minhas Tarefas Fofas 🌸</h1>
  </header>
  
  <main>
    <section aria-labelledby="adicionar-tarefa-label">
      <h2 id="adicionar-tarefa-label" class="visually-hidden">Adicionar nova tarefa</h2>
      <div class="input-container">
        <input type="text" id="novaTarefa" aria-label="Digite uma nova tarefa" placeholder="💕 O que vamos fazer de especial hoje? 💕" />
        <button onclick="adicionarTarefa()" aria-label="Adicionar tarefa">🌟 Adicionar</button>
      </div>
      <div id="msgErro" role="alert" aria-live="assertive"></div>
    </section>
    
    <nav aria-label="Filtro de tarefas" id="filtros">
      <button onclick="filtrar('todas')" aria-pressed="true">🌸 Todas</button>
      <button onclick="filtrar('pendentes')" aria-pressed="false">⏰ Pendentes</button>
      <button onclick="filtrar('concluidas')" aria-pressed="false">✨ Concluídas</button>
    </nav>
    
    <section aria-labelledby="lista-tarefas-label">
      <h2 class="section-title">💖 Lista de Tarefas 💖</h2>
      <ul id="listaTarefas"></ul>
    </section>
  </main>

  <script>
    // Criar corações flutuantes
    function createFloatingHearts() {
      const heartsContainer = document.getElementById('floatingHearts');
      const hearts = ['💕', '💖', '💗', '🌸', '✨', '💝'];
      
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
        heartsContainer.appendChild(heart);
        
        setTimeout(() => {
          heartsContainer.removeChild(heart);
        }, 7000);
      }, 800);
    }

    // Código principal da aplicação
    const novaTarefaInput = document.getElementById('novaTarefa');
    const listaTarefas = document.getElementById('listaTarefas');
    const msgErro = document.getElementById('msgErro');
    const botoesFiltro = document.querySelectorAll('#filtros button');

    let tarefas = [];
    let filtroAtual = 'todas';

    function salvarTarefas() {
      localStorage.setItem('tarefas', JSON.stringify(tarefas));
    }

    function carregarTarefas() {
      const tarefasSalvas = localStorage.getItem('tarefas');
      if (tarefasSalvas) {
        tarefas = JSON.parse(tarefasSalvas);
        renderizarTarefas();
      }
    }

    function filtrar(filtro) {
      filtroAtual = filtro;
      atualizarEstadoFiltro();
      renderizarTarefas();
    }

    function atualizarEstadoFiltro() {
      botoesFiltro.forEach((botao) => {
        botao.setAttribute('aria-pressed', 'false');
      });
      document
        .querySelector(`#filtros button[onclick="filtrar('${filtroAtual}')"]`)
        .setAttribute('aria-pressed', 'true');
    }

    function renderizarTarefas() {
      listaTarefas.innerHTML = '';
      tarefas.forEach((tarefa, index) => {
        if (
          filtroAtual === 'todas' ||
          (filtroAtual === 'pendentes' && !tarefa.concluida) ||
          (filtroAtual === 'concluidas' && tarefa.concluida)
        ) {
          const li = document.createElement('li');
          if (tarefa.concluida) {
            li.classList.add('completed');
          }

          const label = document.createElement('label');
          const checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.checked = tarefa.concluida;
          checkbox.setAttribute('aria-label', `Marcar tarefa '${tarefa.texto}' como concluída`);

          checkbox.addEventListener('change', () => {
            tarefas[index].concluida = checkbox.checked;
            salvarTarefas();
            renderizarTarefas();
          });

          label.appendChild(checkbox);
          label.appendChild(document.createTextNode(tarefa.texto));
          li.appendChild(label);

          const botaoEditar = document.createElement('button');
          botaoEditar.textContent = '✏️ Editar';
          botaoEditar.className = 'btn-editar';
          botaoEditar.setAttribute('aria-label', `Editar tarefa: ${tarefa.texto}`);

          const botaoExcluir = document.createElement('button');
          botaoExcluir.textContent = '🗑️ Excluir';
          botaoExcluir.className = 'btn-remover';
          botaoExcluir.setAttribute('aria-label', `Excluir tarefa: ${tarefa.texto}`);

          botaoEditar.addEventListener('click', function (e) {
            e.stopPropagation();

            const inputEditar = document.createElement('input');
            inputEditar.type = 'text';
            inputEditar.style.cssText = `
              width: 100%; 
              padding: 15px 20px; 
              border: 3px solid #ff6bb3; 
              border-radius: 25px; 
              font-family: 'Quicksand', sans-serif;
              font-size: 1.1rem;
              font-weight: 500;
              color: #555;
              background: rgba(255, 255, 255, 0.95);
            `;
            inputEditar.value = tarefa.texto;

            li.textContent = '';
            li.appendChild(inputEditar);
            inputEditar.focus();

            function finalizarEdicao() {
              const novoTexto = inputEditar.value.trim();
              if (novoTexto !== '') {
                tarefas[index].texto = novoTexto;
                salvarTarefas();
                renderizarTarefas();
              } else {
                renderizarTarefas();
              }
            }

            inputEditar.addEventListener('blur', finalizarEdicao);
            inputEditar.addEventListener('keydown', (event) => {
              if (event.key === 'Enter') {
                inputEditar.blur();
              }
            });
          });

          botaoExcluir.addEventListener('click', (e) => {
            e.stopPropagation();
            tarefas.splice(index, 1);
            salvarTarefas();
            renderizarTarefas();
          });

          li.appendChild(botaoEditar);
          li.appendChild(botaoExcluir);

          listaTarefas.appendChild(li);
        }
      });
    }

    novaTarefaInput.addEventListener('input', () => {
      msgErro.style.display = 'none';
    });

    function adicionarTarefa() {
      const texto = novaTarefaInput.value.trim();
      if (texto === '') {
        msgErro.textContent = '💕 Por favor, escreva uma tarefa fofa para adicionar! 💕';
        msgErro.style.display = 'block';
        return;
      }
      msgErro.style.display = 'none';
      tarefas.push({ texto: texto, concluida: false });
      salvarTarefas();
      renderizarTarefas();
      novaTarefaInput.value = '';
    }

    window.onload = () => {
      carregarTarefas();
      atualizarEstadoFiltro();
      createFloatingHearts();
    };
  </script>
</body>
</html>
